# 本地生活服务应用 - 用户端UI设计规范

## 1. 设计概述

### 1.1 设计原则
- **微信小程序设计规范**: 严格遵循微信小程序官方设计指南
- **一致性**: 保持整体视觉风格和交互模式的一致性
- **易用性**: 简化操作流程，降低用户学习成本
- **无障碍性**: 支持视觉障碍用户的辅助功能
- **性能友好**: 设计考虑小程序性能限制

### 1.2 核心色彩系统
```css
/* 主色调 */
--primary-color: #007aff;      /* 微信蓝 - 主要按钮、链接 */
--primary-light: #4da6ff;     /* 浅蓝 - 激活状态 */
--primary-dark: #0056b3;      /* 深蓝 - 按下状态 */

/* 辅助色 */
--success-color: #52c41a;     /* 成功状态 - 绿色 */
--warning-color: #faad14;     /* 警告状态 - 橙色 */
--error-color: #f5222d;       /* 错误状态 - 红色 */
--info-color: #1890ff;        /* 信息提示 - 蓝色 */

/* 中性色 */
--text-primary: #333333;      /* 主要文本 */
--text-secondary: #666666;    /* 次要文本 */
--text-disabled: #999999;     /* 禁用文本 */
--border-color: #e5e5e5;      /* 边框色 */
--background-color: #f8f8f8;  /* 背景色 */
--card-background: #ffffff;   /* 卡片背景 */

/* VIP专享色 */
--vip-color: #ff6b6b;         /* VIP标识色 - 金红色 */
--vip-background: #fff5f5;    /* VIP背景色 */
```

### 1.3 字体规范
```css
/* 字体大小 */
--font-size-h1: 36rpx;        /* 页面标题 */
--font-size-h2: 32rpx;        /* 区块标题 */
--font-size-h3: 28rpx;        /* 卡片标题 */
--font-size-body: 28rpx;      /* 正文 */
--font-size-caption: 24rpx;   /* 说明文字 */
--font-size-small: 22rpx;     /* 小号文字 */

/* 字重 */
--font-weight-light: 300;
--font-weight-normal: 400;
--font-weight-medium: 500;
--font-weight-bold: 600;
```

### 1.4 间距系统
```css
/* 基础间距单位 */
--spacing-xs: 8rpx;           /* 极小间距 */
--spacing-sm: 16rpx;          /* 小间距 */
--spacing-md: 24rpx;          /* 中等间距 */
--spacing-lg: 32rpx;          /* 大间距 */
--spacing-xl: 48rpx;          /* 超大间距 */

/* 页面边距 */
--page-padding: 32rpx;
--card-padding: 24rpx;
--button-padding: 16rpx 32rpx;
```

## 2. 核心页面设计

### 2.1 首页设计 (index/index.vue)

#### 页面结构
```
┌─────────────────────────────────────┐
│ 顶部导航栏                          │
│ - Logo + 位置选择 + 用户头像        │
├─────────────────────────────────────┤
│ 类目选择区域                        │
│ ┌─────┐ ┌─────┐ ┌─────┐           │
│ │ KTV │ │茶楼 │ │咖啡厅│           │
│ └─────┘ └─────┘ └─────┘           │
├─────────────────────────────────────┤
│ 推荐店铺轮播                        │
│ ┌─────────────────────────────────┐ │
│ │     精选店铺图片 + 优惠信息      │ │
│ └─────────────────────────────────┘ │
├─────────────────────────────────────┤
│ 附近热门店铺                        │
│ ┌───────────────┬─────────────────┐ │
│ │店铺图片      │ 店名 ⭐4.8      │ │
│ │             │ 距离500m        │ │
│ │             │ 💰人均¥68       │ │
│ └───────────────┴─────────────────┘ │
└─────────────────────────────────────┘
```

#### 设计要点
- **类目选择**: 使用卡片式设计，每个类目有独特的图标和色彩
- **位置权限**: 优雅的权限申请流程，支持手动输入地址
- **VIP标识**: 用户头像右上角显示VIP徽章（金色皇冠图标）
- **推荐算法**: 基于用户位置和偏好的智能推荐
- **加载状态**: 骨架屏设计，提升加载体验

#### 交互设计
- 类目选择有按压反馈和动画效果
- 店铺卡片支持左滑查看更多操作
- 下拉刷新和上拉加载更多
- 搜索入口位于顶部，支持语音搜索

### 2.2 店铺列表页面 (store/list.vue)

#### 页面结构
```
┌─────────────────────────────────────┐
│ 搜索框 + 筛选按钮                   │
├─────────────────────────────────────┤
│ 筛选标签栏                          │
│ [距离最近] [评分最高] [价格较低]    │
├─────────────────────────────────────┤
│ 店铺列表                            │
│ ┌───────────────────────────────────┐ │
│ │ ┌─────┐                         │ │
│ │ │店铺 │  店名 ⭐4.8              │ │
│ │ │图片 │  营业中 · 距离500m        │ │
│ │ │     │  人均¥68 · 有空包间      │ │
│ │ └─────┘  [立即预订]              │ │
│ └───────────────────────────────────┘ │
├─────────────────────────────────────┤
│ 地图视图切换按钮                    │
└─────────────────────────────────────┘
```

#### 设计要点
- **状态标识**: 营业中（绿色）、即将打烊（橙色）、已打烊（灰色）
- **空间状态**: 实时显示可用包间/卡座数量
- **VIP特权**: VIP用户看到专享价格和优先推荐标识
- **地图集成**: 支持地图模式查看店铺分布
- **筛选功能**: 多维度筛选（距离、价格、评分、类型）

### 2.3 店铺详情页面 (store/detail.vue)

#### 页面结构
```
┌─────────────────────────────────────┐
│ 店铺封面图片/视频                   │
│ ┌─────────────────────────────────┐ │
│ │     店铺环境视频 20秒            │ │
│ └─────────────────────────────────┘ │
├─────────────────────────────────────┤
│ 店铺基本信息                        │
│ 店名 ⭐4.8 (1.2k评价)              │
│ 📍地址 🕐营业时间 📞电话            │
│ 💰人均消费 🎵音乐类型               │
├─────────────────────────────────────┤
│ 空间选择                            │
│ ┌─────────────────────────────────┐ │
│ │ 包间类型 TabBar                 │ │
│ │ [小型] [中型] [大型] [豪华]     │ │
│ └─────────────────────────────────┘ │
│ ┌─────────────────────────────────┐ │
│ │ ┌─────┐                         │ │
│ │ │包间 │ 包间A ✅可预订           │ │
│ │ │视频 │ 4-6人 ¥198/时           │ │
│ │ │     │ 设施：大屏/音响/麻将     │ │
│ │ └─────┘ [立即预订]              │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

#### 设计要点
- **视频预览**: 20秒环境视频，支持全屏播放
- **状态实时**: WebSocket实时更新空间状态
- **设施标签**: 可视化展示空间设施和特色
- **价格展示**: 根据用户等级显示相应价格（VIP享受会员价）
- **预订引导**: 清晰的CTA按钮和预订流程

### 2.4 空间预览页面 (space/preview.vue)

#### 页面结构
```
┌─────────────────────────────────────┐
│ 空间视频播放器                      │
│ ┌─────────────────────────────────┐ │
│ │     包间实拍视频播放             │ │
│ │     🔄循环播放 🔊音量控制        │ │
│ └─────────────────────────────────┘ │
├─────────────────────────────────────┤
│ 空间详细信息                        │
│ 包间A - 中型包间                    │
│ 👥容纳：4-6人                       │
│ 📐面积：15㎡                        │
│ 🎵设施：KTV系统、大屏、音响          │
│ 💡氛围：温馨、适合聚会               │
├─────────────────────────────────────┤
│ 价格信息                            │
│ ┌─────────────────────────────────┐ │
│ │ 💰时段价格                      │ │
│ │ 白天（10:00-18:00）¥158/时      │ │
│ │ 夜场（18:00-02:00）¥198/时      │ │
│ │ [VIP专享] 8折优惠 💎            │ │
│ └─────────────────────────────────┘ │
├─────────────────────────────────────┤
│ 预订操作                            │
│ ┌─────────────────────────────────┐ │
│ │ [立即预订] [加入收藏]           │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

#### 设计要点
- **沉浸式体验**: 视频优先，让用户真实感受空间环境
- **信息层次**: 重要信息突出显示，次要信息收起可展开
- **VIP特权**: 显著展示VIP用户的专享优惠
- **社交功能**: 支持分享到微信好友/朋友圈

### 2.5 预订确认页面 (booking/confirm.vue)

#### 页面结构
```
┌─────────────────────────────────────┐
│ 预订信息确认                        │
│ ┌─────────────────────────────────┐ │
│ │ 📅日期时间选择                  │ │
│ │ 2024年1月15日 19:00-23:00       │ │
│ │ 👥人数选择 [4人]               │ │
│ │ 📝备注说明 (可选)              │ │
│ └─────────────────────────────────┘ │
├─────────────────────────────────────┤
│ 费用明细                            │
│ ┌─────────────────────────────────┐ │
│ │ 包间费用    ¥198.00             │ │
│ │ 服务费      ¥19.80              │ │
│ │ ────────────────────            │ │
│ │ 小计        ¥217.80             │ │
│ │                                 │ │
│ │ [VIP免订金特权] 💎              │ │
│ │ 普通用户需支付订金 ¥50.00       │ │
│ │ ❌ 您享受VIP免订金特权           │ │
│ └─────────────────────────────────┘ │
├─────────────────────────────────────┤
│ 积分抵扣                            │
│ ┌─────────────────────────────────┐ │
│ │ 💰当前积分：1,250分              │ │
│ │ 🎯可抵扣金额：¥12.50 (100:1)    │ │
│ │ □ 使用积分抵扣                  │ │
│ └─────────────────────────────────┘ │
├─────────────────────────────────────┤
│ 预订操作                            │
│ ┌─────────────────────────────────┐ │
│ │ 应付金额：¥0.00 (VIP免费预订)   │ │
│ │ [确认预订] [修改信息]           │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

#### 设计要点
- **分级显示**: 根据用户等级显示不同的预订流程和价格
- **VIP特权突出**: 用醒目的设计展示VIP用户的免订金特权
- **积分系统**: 清晰展示积分余额和抵扣规则
- **确认流程**: 重要信息二次确认，避免误操作

### 2.6 扫码点单页面 (order/scan.vue)

#### 页面结构
```
┌─────────────────────────────────────┐
│ 扫码指引                            │
│ ┌─────────────────────────────────┐ │
│ │     📷 扫描桌上二维码            │ │
│ │       开始点单                   │ │
│ │                                 │ │
│ │     [扫描二维码]                │ │
│ │     手动输入包间号               │ │
│ └─────────────────────────────────┘ │
├─────────────────────────────────────┤
│ 当前位置 (扫码成功后显示)           │
│ ┌─────────────────────────────────┐ │
│ │ 📍海底捞火锅 - 包间A             │ │
│ │ 👥4-6人包间 ✅已确认位置         │ │
│ └─────────────────────────────────┘ │
├─────────────────────────────────────┤
│ 智能推荐                            │
│ ┌─────────────────────────────────┐ │
│ │ 🔥为您推荐                      │ │
│ │ ┌─────┐ ┌─────┐ ┌─────┐        │ │
│ │ │商品1│ │商品2│ │商品3│        │ │
│ │ │图片 │ │图片 │ │图片 │        │ │
│ │ └─────┘ └─────┘ └─────┘        │ │
│ └─────────────────────────────────┘ │
├─────────────────────────────────────┤
│ 快速操作                            │
│ ┌─────────────────────────────────┐ │
│ │ [浏览菜单] [查看优惠] [呼叫服务] │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

#### 设计要点
- **权限处理**: 优雅的相机权限申请和错误处理
- **位置确认**: 扫码成功后明确显示定位信息
- **智能推荐**: 基于空间类型、时段、历史偏好的推荐算法
- **快速操作**: 提供常用功能的快捷入口

### 2.7 商品目录页面 (product/catalog.vue)

#### 页面结构
```
┌─────────────────────────────────────┐
│ 搜索框 + 购物车图标(角标数量)       │
├─────────────────────────────────────┤
│ 分类导航                            │
│ [酒水] [小食] [果盘] [服务] [套餐]  │
├─────────────────────────────────────┤
│ 商品列表                            │
│ ┌─────────────────────────────────┐ │
│ │ ┌─────┐                         │ │
│ │ │商品 │ 商品名称 🔥热销          │ │
│ │ │图片 │ 💰¥68 [VIP] ¥59         │ │
│ │ │     │ 📝简单描述              │ │
│ │ │     │ [➖] 1 [➕] [加入购物车] │ │
│ │ └─────┘                         │ │
│ └─────────────────────────────────┘ │
├─────────────────────────────────────┤
│ 浮动购物车                          │
│ ┌─────────────────────────────────┐ │
│ │ 🛒 已选3件 ¥186 [去结算]        │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

#### 设计要点
- **会员价格**: VIP用户优先显示会员价格，用特殊颜色标识
- **库存状态**: 实时显示库存，缺货商品置灰处理
- **规格选择**: 支持商品规格（大小杯、冰度、糖度等）选择
- **购物车交互**: 浮动购物车设计，实时统计和快速结算

### 2.8 订单确认页面 (order/confirm.vue)

#### 页面结构
```
┌─────────────────────────────────────┐
│ 配送信息                            │
│ ┌─────────────────────────────────┐ │
│ │ 📍配送至：海底捞火锅 - 包间A     │ │
│ │ ⏰预计送达：15分钟               │ │
│ │ 📝备注：[不要香菜...]           │ │
│ └─────────────────────────────────┘ │
├─────────────────────────────────────┤
│ 订单商品                            │
│ ┌─────────────────────────────────┐ │
│ │ 可乐 x2        ¥12.00           │ │
│ │ 薯条(大份) x1  ¥18.00           │ │
│ │ ────────────────────            │ │
│ │ 商品总计       ¥30.00           │ │
│ └─────────────────────────────────┘ │
├─────────────────────────────────────┤
│ 优惠信息                            │
│ ┌─────────────────────────────────┐ │
│ │ 🎫优惠券：满30减5 [可用2张]      │ │
│ │ 💰积分抵扣：¥3.00 (300积分)     │ │
│ │ [VIP专享] 免配送费 💎           │ │
│ └─────────────────────────────────┘ │
├─────────────────────────────────────┤
│ 支付方式                            │
│ ┌─────────────────────────────────┐ │
│ │ ● 微信支付                      │ │
│ │ ○ 到店现金支付                  │ │
│ └─────────────────────────────────┘ │
├─────────────────────────────────────┤
│ 费用明细                            │
│ ┌─────────────────────────────────┐ │
│ │ 商品金额    ¥30.00              │ │
│ │ 优惠减免    -¥5.00              │ │
│ │ 积分抵扣    -¥3.00              │ │
│ │ 配送费      ¥0.00 (VIP免费)     │ │
│ │ ═══════════════════             │ │
│ │ 实付金额    ¥22.00              │ │
│ │ [立即支付]                      │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

#### 设计要点
- **VIP特权**: 突出显示VIP用户享受的优惠（免配送费等）
- **费用透明**: 详细展示各项费用明细和优惠情况
- **支付方式**: 支持多种支付方式选择
- **确认机制**: 重要信息突出显示，避免误操作

## 3. 用户中心设计

### 3.1 用户中心页面 (user/profile.vue)

#### 页面结构
```
┌─────────────────────────────────────┐
│ 用户信息卡片                        │
│ ┌─────────────────────────────────┐ │
│ │ [头像] 昵称 👑VIP               │ │
│ │ 📱手机号：138****8888           │ │
│ │ 💰积分：1,250分                 │ │
│ │ 📈等级进度：距离钻石卡还需2000分 │ │
│ └─────────────────────────────────┘ │
├─────────────────────────────────────┤
│ VIP权益展示                         │
│ ┌─────────────────────────────────┐ │
│ │ 💎VIP专享权益                   │ │
│ │ ✅免订金预订                    │ │
│ │ ✅积分翻倍返利                  │ │
│ │ ✅专享会员价                    │ │
│ │ ✅优先配送                      │ │
│ └─────────────────────────────────┘ │
├─────────────────────────────────────┤
│ 功能菜单                            │
│ ┌─────────────────────────────────┐ │
│ │ 📋我的订单  💰积分中心           │ │
│ │ 📅我的预订  ⭐收藏店铺           │ │
│ │ 🎫优惠券    ⚙️设置               │ │
│ │ 📞客服      ❓帮助中心           │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

#### 设计要点
- **等级体系**: 清晰展示当前等级和升级进度
- **权益可视化**: 用图标和文字明确展示VIP权益
- **快速入口**: 常用功能直达，减少操作层级

## 4. 组件设计系统

### 4.1 基础组件

#### 4.1.1 按钮组件 (Button)
```css
/* 主要按钮 */
.btn-primary {
  background: var(--primary-color);
  color: white;
  border-radius: 8rpx;
  padding: var(--button-padding);
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-medium);
}

/* VIP按钮 */
.btn-vip {
  background: linear-gradient(135deg, #ff6b6b, #ffd93d);
  color: white;
  border-radius: 8rpx;
  position: relative;
}

.btn-vip::before {
  content: "💎";
  margin-right: 8rpx;
}
```

#### 4.1.2 卡片组件 (Card)
```css
.card {
  background: var(--card-background);
  border-radius: 12rpx;
  padding: var(--card-padding);
  margin: var(--spacing-sm);
  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.1);
}

.card-vip {
  border: 2rpx solid var(--vip-color);
  background: var(--vip-background);
}
```

#### 4.1.3 状态标签 (StatusTag)
```css
.status-tag {
  display: inline-block;
  padding: 4rpx 12rpx;
  border-radius: 4rpx;
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
}

.status-available { background: #f6ffed; color: #52c41a; }
.status-occupied { background: #fff2e8; color: #fa8c16; }
.status-maintenance { background: #f6f6f6; color: #999999; }
```

### 4.2 业务组件

#### 4.2.1 空间卡片 (SpaceCard)
- 缩略图 + 视频播放按钮
- 空间名称和基本信息
- 实时状态指示器
- VIP价格标识
- 快速预订按钮

#### 4.2.2 商品卡片 (ProductCard)
- 商品图片 + 库存状态
- 商品名称和描述
- 价格（普通价/会员价）
- 数量选择器
- 加购按钮

#### 4.2.3 订单状态条 (OrderStatusBar)
- 进度指示器
- 状态节点
- 预估时间
- 实时更新

## 5. 交互规范

### 5.1 手势交互
- **点击**: 基本选择和确认操作
- **长按**: 预览功能（如长按店铺卡片预览详情）
- **左滑**: 快速操作（如左滑订单取消）
- **下拉刷新**: 数据更新
- **上拉加载**: 分页加载

### 5.2 动画效果
- **页面转场**: 使用系统标准转场动画
- **元素动画**: 按钮点击反馈、卡片悬浮效果
- **状态变化**: 平滑的状态转换动画
- **加载动画**: 骨架屏和Loading状态

### 5.3 反馈机制
- **触觉反馈**: 重要操作提供震动反馈
- **音效反馈**: 成功操作播放提示音
- **视觉反馈**: 颜色变化、图标状态更新
- **Toast提示**: 操作结果及时反馈

## 6. 无障碍设计

### 6.1 视觉辅助
- **对比度**: 确保文字与背景对比度≥4.5:1
- **字体大小**: 支持系统字体大小调节
- **颜色识别**: 不仅依赖颜色传达信息，配合图标和文字

### 6.2 操作辅助
- **触摸目标**: 最小点击区域≥44rpx
- **焦点管理**: 清晰的焦点指示和逻辑顺序
- **语音描述**: 重要图片和按钮提供alt文本

## 7. 适配规范

### 7.1 屏幕适配
- **设计基准**: 375px宽度设计稿
- **单位使用**: 使用rpx实现响应式布局
- **安全区域**: 适配iPhone刘海屏和底部指示器

### 7.2 机型适配
- **低端机型**: 简化动画效果，优化性能
- **高端机型**: 增强视觉效果和交互体验
- **横屏适配**: 关键页面支持横屏显示

## 8. 设计资源输出

### 8.1 设计稿规格
- **设计软件**: Figma/Sketch
- **设计尺寸**: 750px宽度（2倍图）
- **输出格式**: PNG/SVG图标，WebP图片
- **标注工具**: 蓝湖/墨刀标注

### 8.2 组件库
- **Storybook文档**: 组件展示和使用说明
- **设计Token**: 颜色、字体、间距的代码化管理
- **图标库**: SVG格式图标资源包

### 8.3 交付物清单
- [ ] 页面设计稿（12个核心页面）
- [ ] 组件库设计稿
- [ ] 图标资源包
- [ ] 设计规范文档
- [ ] 切图资源包
- [ ] 标注文档

---

**注**: 本设计规范将作为前端开发的重要参考，确保最终产品符合设计预期和用户体验标准。
