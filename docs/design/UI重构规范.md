# 本地生活服务应用 UI 重构规范

## 📋 文档信息

- **文档版本**：v1.0
- **创建时间**：2025年9月19日
- **更新时间**：2025年9月19日
- **负责人**：UI/UX 设计团队
- **状态**：待评审

---

## 🎯 重构目标

### 核心问题分析

基于用户反馈和业务需求，当前 UI 设计存在以下关键问题：

1. **信息架构混乱**：预订系统与扫码点单系统缺乏清晰的信息层级
2. **认知负担过重**：复杂功能导致界面信息密度过高，用户学习成本高
3. **视觉层次不清**：关键信息（实时状态、价格、时间）缺乏有效的视觉引导
4. **移动端体验不佳**：复杂操作在小屏幕设备上的可用性问题
5. **多角色界面混乱**：C端用户、商户、服务员等不同角色的界面区分度不够

### 重构目标

- **提升用户体验**：简化操作流程，降低认知负担
- **优化视觉效果**：建立清晰的视觉层次和一致的设计语言
- **增强移动适配**：优化小屏幕设备的交互体验
- **提高转化率**：通过更好的 UI 设计提升预订和点单转化率
- **降低开发成本**：建立可复用的设计组件库

---

## 🏗️ 设计原则

### 1. 移动优先设计 (Mobile-First)

- **单手操作优化**：重要操作按钮位于拇指触及区域（屏幕下方 1/3）
- **触摸友好**：最小触摸目标 44×44 像素，按钮间距不少于 8px
- **横屏适配**：关键功能在横屏模式下仍可正常使用

### 2. 情境感知设计 (Context-Aware)

- **状态驱动界面**：根据用户当前状态（浏览/预订/点单/消费）动态调整界面
- **实时信息突出**：包间状态、订单进度等时效性信息实时更新并突出显示
- **智能默认值**：基于用户位置、历史偏好等提供智能推荐

### 3. 渐进式信息披露 (Progressive Disclosure)

- **核心信息优先**：首屏展示最关键信息，详细信息按需展开
- **分步引导**：复杂流程分解为简单步骤，每步专注单一任务
- **视觉层次清晰**：使用大小、颜色、间距建立清晰的信息层级

### 4. 一致性原则 (Consistency)

- **交互模式统一**：相同功能在不同页面使用相同的交互方式
- **视觉语言统一**：颜色、字体、间距、圆角等视觉元素保持一致
- **反馈机制统一**：加载、成功、失败等状态反馈保持一致

### 5. 可访问性设计 (Accessibility)

- **色彩对比度**：文本与背景对比度不低于 4.5:1（WCAG AA 标准）
- **字体大小**：主要文本不小于 14sp，重要信息不小于 16sp
- **操作反馈**：每个操作都有明确的视觉或触觉反馈

---

## 🎨 视觉设计系统

### 设计参考标准

- **Apple Human Interface Guidelines**：iOS设计规范，确保在苹果设备上的原生体验
- **Material You 3 (Material Design 3)**：Google最新设计系统，支持动态颜色和个性化
- **美团外卖2024设计语言**：参考其卡片布局和信息层级，但采用更圆润的处理

### 颜色系统 (Color System)

#### 主色调 (Primary Colors) - 亮色模式

```scss
// 品牌主色 - 活力橙
$primary: #ff6b35;
$primary-light: #ff8c5a;
$primary-dark: #e55a2b;

// 辅助色 - 深蓝
$secondary: #2e3b5a;
$secondary-light: #3a4a6b;
$secondary-dark: #1e2a3e;
```

#### 主色调 (Primary Colors) - 暗黑模式

```scss
// 品牌主色 - 暗黑适配（更柔和的橙色）
$primary-dark-mode: #ffb085; // 更柔和，减少眼部疲劳
$primary-light-dark-mode: #ffc299;
$primary-dark-dark-mode: #ff9e71;

// 辅助色 - 暗黑适配
$secondary-dark-mode: #8b9dc3;
$secondary-light-dark-mode: #a0b1d6;
$secondary-dark-dark-mode: #7689b0;

// 背景色 - 暗黑模式（Material You 3标准）
$background-primary-dark: #0f1419; // 主背景
$background-secondary-dark: #1c2128; // 次级背景
$surface-dark: #1c2128; // 卡片背景
$surface-variant-dark: #2d3748; // 变体背景
```

#### 功能色 (Functional Colors)

```scss
// 状态色 - 亮色模式
$success: #10b981; // 可预订/成功
$warning: #f59e0b; // 维护中/警告
$error: #ef4444; // 占用/错误
$info: #3b82f6; // 信息提示

// 状态色 - 暗黑模式
$success-dark: #34d399; // 更亮的绿色
$warning-dark: #fbbf24; // 更亮的黄色
$error-dark: #f87171; // 更亮的红色
$info-dark: #60a5fa; // 更亮的蓝色

// 中性色 - 亮色模式
$gray-50: #f9fafb;
$gray-100: #f3f4f6;
$gray-200: #e5e7eb;
$gray-300: #d1d5db;
$gray-400: #9ca3af;
$gray-500: #6b7280;
$gray-600: #4b5563;
$gray-700: #374151;
$gray-800: #1f2937;
$gray-900: #111827;

// 中性色 - 暗黑模式
$gray-50-dark: #0f1419;
$gray-100-dark: #1c2128;
$gray-200-dark: #2d3748;
$gray-300-dark: #4a5568;
$gray-400-dark: #718096;
$gray-500-dark: #a0aec0;
$gray-600-dark: #cbd5e0;
$gray-700-dark: #e2e8f0;
$gray-800-dark: #f7fafc;
$gray-900-dark: #ffffff;
```

#### 语义化颜色应用

- **包间状态**：绿色（可预订）、红色（使用中）、黄色（维护中）、灰色（不可用）
- **价格信息**：主色调（原价）、绿色（优惠价）、红色（会员价）
- **操作按钮**：主色调（主要操作）、灰色（次要操作）、红色（危险操作）

### 字体系统 (Typography)

#### 字体族

```scss
// 中文字体
$font-family-chinese: 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;

// 英文字体
$font-family-english:
  'SF Pro Display',
  -apple-system,
  BlinkMacSystemFont,
  sans-serif;

// 数字字体
$font-family-number: 'SF Mono', 'Monaco', 'Cascadia Code', monospace;
```

#### 字体大小系统

```scss
// 标题
$text-xs: 10px; // 辅助信息
$text-sm: 12px; // 次要文本
$text-base: 14px; // 基础文本
$text-lg: 16px; // 重要文本
$text-xl: 18px; // 小标题
$text-2xl: 20px; // 标题
$text-3xl: 24px; // 大标题
$text-4xl: 30px; // 特大标题
```

#### 行高系统

```scss
$leading-tight: 1.2; // 标题
$leading-normal: 1.4; // 正文
$leading-relaxed: 1.6; // 长文本
```

### 间距系统 (Spacing)

#### 基础间距单位

```scss
$spacing-1: 4px;
$spacing-2: 8px;
$spacing-3: 12px;
$spacing-4: 16px;
$spacing-5: 20px;
$spacing-6: 24px;
$spacing-8: 32px;
$spacing-10: 40px;
$spacing-12: 48px;
$spacing-16: 64px;
```

#### 应用场景

- **组件内间距**：4px、8px、12px
- **组件间间距**：16px、24px
- **区块间间距**：32px、48px
- **页面边距**：16px（移动端）、24px（平板）

### 圆角系统 (Border Radius) - 更圆润的设计

```scss
// 参考美团外卖2024风格，但更圆润
$radius-none: 0;
$radius-xs: 4px; // 小标签
$radius-sm: 8px; // 按钮、输入框
$radius-base: 12px; // 卡片 - 比标准更圆润
$radius-lg: 16px; // 大卡片 - 参考美团外卖
$radius-xl: 20px; // 模态框 - 更圆润
$radius-2xl: 24px; // 大模态框
$radius-full: 50%; // 圆形元素

// 特殊圆角 - 美团风格
$radius-meituan-card: 14px; // 美团卡片风格
$radius-meituan-button: 20px; // 美团按钮风格（更圆润）
```

### 阴影系统 (Shadows)

```scss
// 轻微阴影 - 按钮、输入框
$shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);

// 标准阴影 - 卡片
$shadow-base:
  0 1px 3px rgba(0, 0, 0, 0.1),
  0 1px 2px rgba(0, 0, 0, 0.06);

// 中等阴影 - 悬浮卡片
$shadow-lg:
  0 4px 6px rgba(0, 0, 0, 0.07),
  0 2px 4px rgba(0, 0, 0, 0.06);

// 大阴影 - 模态框
$shadow-xl:
  0 10px 15px rgba(0, 0, 0, 0.1),
  0 4px 6px rgba(0, 0, 0, 0.05);
```

---

## 📱 具体页面重构方案

### 1. 首页重构 - 美团外卖风格+更圆润

#### 1.1 布局结构（支持暗黑模式切换）

```
┌─────────────────────────────┐
│ [搜索栏] [定位] [🌙暗黑模式]  │ ← 顶部导航（支持主题切换）
├─────────────────────────────┤
│ ┌─────┐ ┌─────┐ ┌─────┐     │
│ │🎤KTV│ │🍵茶楼│ │☕咖啡│     │ ← 类目卡片（更圆润，14px圆角）
│ └─────┘ └─────┘ └─────┘     │
├─────────────────────────────┤
│ 📍 附近商家 | 🔥 热门推荐     │ ← 快速筛选标签
├─────────────────────────────┤
│ ┌─────────────────────────┐ │
│ │ [店铺大图 - 16:9比例]    │ │ ← 店铺卡片（美团风格）
│ │ 店铺名称 ⭐4.8 📍1.2km  │ │ （20px圆角，更圆润）
│ │ 🟢12间可预订 📹视频预览  │ │
│ │ [立即预订] [扫码点单]    │ │ ← 圆润按钮（20px圆角）
│ └─────────────────────────┘ │
└─────────────────────────────┘
```

#### 1.2 设计要点

- **类目选择**：使用大卡片设计，图标+文字，突出视觉效果
- **店铺卡片**：大图片（16:9比例）+ 关键信息，实时状态用颜色标识
- **状态指示器**：绿色圆点表示可预订，数字显示可用包间数量
- **视频预览标签**：明显的视频图标，提升点击率

#### 1.3 交互优化

- **下拉刷新**：获取最新店铺状态
- **无限滚动**：优化长列表性能
- **快速筛选**：距离、价格、评分一键筛选
- **收藏功能**：便于用户快速找到常去店铺

### 2. 店铺详情页重构

#### 2.1 布局结构

```
┌─────────────────────────────┐
│ [返回] 店铺名称 [分享][收藏]  │ ← 导航栏
├─────────────────────────────┤
│ ┌─────────────────────────┐ │
│ │ [店铺环境视频 - 全屏播放] │ │ ← 视频展示区
│ └─────────────────────────┘ │
├─────────────────────────────┤
│ ⭐4.8分 📍地址 📞电话 🕐营业时间│ ← 基础信息
├─────────────────────────────┤
│ 💡包间选择 (12间可预订)      │ ← 包间选择标题
├─────────────────────────────┤
│ 🟢小型包间(2-4人) ¥188/时    │ ← 包间类型筛选
│ 🟡中型包间(5-8人) 🔴大型包间 │
├─────────────────────────────┤
│ ┌─────┐ ┌─────┐ ┌─────┐      │
│ │包间A │ │包间B │ │包间C │      │ ← 包间网格
│ │🟢可订│ │🔴使用中│ │🟢可订│     │
│ └─────┘ └─────┘ └─────┘      │
└─────────────────────────────┘
```

#### 2.2 设计要点

- **视频置顶**：店铺环境视频占据主要视觉位置，支持全屏播放
- **包间状态**：颜色编码 + 图标，状态一目了然
- **筛选功能**：按人数、价格、设施快速筛选包间
- **实时更新**：包间状态每30秒自动刷新

#### 2.3 包间详情设计

- **视频预览**：每个包间20秒环境视频
- **设施标签**：大屏幕、音响、麻将桌等设施图标化展示
- **价格信息**：时段价格、节假日价格清晰展示
- **预订按钮**：大按钮设计，状态可用时高亮显示

### 3. 预订流程重构

#### 3.1 预订确认页

```
┌─────────────────────────────┐
│ 📹 包间A - 小型包间(2-4人)   │ ← 包间信息
├─────────────────────────────┤
│ 📅 今天 2025/09/19          │ ← 日期选择
│ 🕐 14:00 开始使用            │ ← 时间选择
│ 👥 3人                      │ ← 人数选择
├─────────────────────────────┤
│ 💰 费用明细                  │
│ 包间费用: ¥188              │
│ 服务费: ¥20                 │
│ 小计: ¥208                  │
├─────────────────────────────┤
│ 🎁 优惠信息                  │
│ 💎 积分抵扣: -¥15 (150积分) │
│ 🎫 优惠券: -¥20              │
├─────────────────────────────┤
│ ✅ 实付: ¥173               │
├─────────────────────────────┤
│ [立即预订] [稍后预订]        │ ← 操作按钮
└─────────────────────────────┘
```

#### 3.2 设计优化

- **信息卡片化**：不同类型信息用卡片分隔，层次清晰
- **价格透明**：费用明细完全透明，建立用户信任
- **优惠突出**：积分抵扣、优惠券等省钱信息突出显示
- **操作引导**：主要操作按钮使用品牌主色，次要操作使用灰色

### 4. 扫码点单系统重构

#### 4.1 扫码进入页

```
┌─────────────────────────────┐
│ 🎯 已定位到: 包间A           │ ← 位置确认
│ 📍 XX KTV 3楼               │
├─────────────────────────────┤
│ 🛒 开始点单                  │ ← 操作引导
│ 享受包间服务，扫码即点        │
├─────────────────────────────┤
│ [确认位置，开始点单]          │ ← 确认按钮
└─────────────────────────────┘
```

#### 4.2 商品浏览页

```
┌─────────────────────────────┐
│ [搜索] 包间A点单 [购物车: 3] │ ← 顶部导航
├─────────────────────────────┤
│ 🍷酒水 🍖小食 🍰甜点 🔥热销   │ ← 分类标签栏
├─────────────────────────────┤
│ ┌─────────────────────────┐ │
│ │ [商品图片] 商品名称      │ │ ← 商品卡片
│ │ 📝 简短描述             │ │
│ │ ⭐4.9 月销999+ ¥88     │ │
│ │ [➕加入购物车]          │ │
│ └─────────────────────────┘ │
├─────────────────────────────┤
│ 🛒 3件商品 ¥266 [去结算]    │ ← 购物车悬浮栏
└─────────────────────────────┘
```

#### 4.3 设计要点

- **分类导航**：底部标签栏，便于单手操作
- **商品信息**：图片 + 核心信息，支持快速浏览
- **购物车悬浮**：实时显示商品数量和总价
- **智能推荐**：基于场景和历史偏好推荐商品

#### 4.4 购物车和结算

```
┌─────────────────────────────┐
│ 🛒 购物车 (3件商品)          │ ← 标题
├─────────────────────────────┤
│ ✅ 青岛啤酒 x2 ¥36 [+ -]    │ ← 商品列表
│ ✅ 薯片 x1 ¥15 [+ -]        │
│ ✅ 果盘 x1 ¥58 [+ -]        │
├─────────────────────────────┤
│ 📝 备注: 不要香菜...         │ ← 备注信息
├─────────────────────────────┤
│ 💰 费用明细                  │
│ 商品总计: ¥109              │
│ 💎 积分抵扣: -¥10           │
│ 🎫 优惠券: 满100减15        │
│ ✅ 实付: ¥84                │
├─────────────────────────────┤
│ ⏰ 预计送达: 15分钟          │
│ 📍 配送到: 包间A             │
├─────────────────────────────┤
│ [微信支付 ¥84]              │ ← 支付按钮
└─────────────────────────────┘
```

### 5. 订单状态页重构

#### 5.1 订单跟踪页

```
┌─────────────────────────────┐
│ 📋 订单 #2025091900123       │ ← 订单号
├─────────────────────────────┤
│ ✅ 已下单 → ✅ 已支付        │ ← 进度条
│ → 🔄 制作中 → ⏳ 配送中      │
│ → ⭕ 已送达                   │
├─────────────────────────────┤
│ 🕐 预计送达: 12分钟后        │ ← 时间信息
│ 📍 配送到: 包间A             │
├─────────────────────────────┤
│ 🍷 青岛啤酒 x2              │ ← 商品清单
│ 🍖 薯片 x1                  │
│ 🍰 果盘 x1                  │
├─────────────────────────────┤
│ 💬 [联系商家] [催单]         │ ← 操作按钮
└─────────────────────────────┘
```

#### 5.2 设计优化

- **进度可视化**：使用进度条和图标清晰展示订单状态
- **时间信息**：预计送达时间实时更新，降低用户焦虑
- **操作便捷**：提供联系商家、催单等常用操作
- **状态通知**：关键节点主动推送微信通知

---

## 🏪 商户端界面重构

### 1. 商户仪表盘

```
┌─────────────────────────────┐
│ 📊 今日概览                  │ ← 数据概览
│ 💰 营收 ¥3,580 📈 +12%      │
│ 📋 订单 45单 👥 客流 126人   │
├─────────────────────────────┤
│ 🏠 包间状态 (12/15 使用中)   │ ← 包间总览
│ 🟢🟢🟢🔴🔴🔴🟡🟢🟢🟢🟢🟢   │
├─────────────────────────────┤
│ 🔔 新订单 (3) [查看全部]      │ ← 订单提醒
│ 🍷 点单: 包间A 啤酒x2 5分钟前 │
│ 🎤 预订: 包间C 今晚8点 刚刚   │
├─────────────────────────────┤
│ ⚡ 快捷操作                   │ ← 常用功能
│ [释放包间] [添加商品] [查看报表]│
└─────────────────────────────┘
```

### 2. 订单管理页

```
┌─────────────────────────────┐
│ 📋 订单管理 🔔(3) [筛选]     │ ← 标题和筛选
├─────────────────────────────┤
│ 🚨 [紧急] 点单订单            │ ← 紧急订单高亮
│ 📍 包间A | ⏰ 3分钟前        │
│ 🍷 青岛啤酒x2 薯片x1         │
│ [接单] [拒绝] [查看详情]      │
├─────────────────────────────┤
│ ✅ [已接单] 预订订单          │ ← 普通订单
│ 📍 包间C | ⏰ 今晚8:00       │
│ 👥 6人 | 💰 ¥288            │
│ [准备中] [查看详情]           │
└─────────────────────────────┘
```

### 3. 设计优化要点

- **信息分层**：使用颜色、大小、间距建立清晰的信息层级
- **状态直观**：包间状态用颜色编码，订单紧急程度用醒目标识
- **操作便捷**：常用操作大按钮设计，减少误操作
- **实时更新**：关键数据自动刷新，确保信息准确性

---

## 🎭 动效与交互设计

### 1. Material You 3动画系统

```scss
// Material You 3标准转场
.page-transition {
  // 强调性动效 - 重要页面转换
  &.emphasized {
    transition: all 0.5s cubic-bezier(0.2, 0, 0, 1);
  }

  // 标准动效 - 常规页面转换
  &.standard {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  // 快速动效 - 简单交互
  &.quick {
    transition: all 0.2s cubic-bezier(0.4, 0, 1, 1);
  }
}

// 暗黑模式切换动画
.theme-transition {
  transition:
    background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
    color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
    border-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
    box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
```

### 2. 状态变更动效

- **包间状态变更**：颜色渐变动画，时长300ms
- **购物车更新**：数字跳动动画 + 缩放效果
- **订单状态更新**：进度条填充动画 + 图标变化

### 3. 微交互设计

- **按钮点击**：轻微缩放（0.98倍）+ 阴影变化
- **卡片悬停**：阴影加深 + 轻微上移（2px）
- **加载状态**：骨架屏 + 呼吸动画
- **下拉刷新**：弹性动画 + 加载指示器

### 4. 反馈机制

- **操作成功**：绿色提示 + 对勾动画
- **操作失败**：红色提示 + 震动反馈
- **网络错误**：断网图标 + 重试按钮
- **空状态**：友好插图 + 引导文案

---

## 🌙 暗黑模式实现方案

### 1. 自动检测系统偏好

```typescript
// 系统主题检测
interface ThemeManager {
  currentTheme: 'light' | 'dark' | 'auto';
  systemPreference: 'light' | 'dark';

  // 监听系统主题变化
  watchSystemTheme(): void;

  // 切换主题
  setTheme(theme: 'light' | 'dark' | 'auto'): void;

  // 获取当前有效主题
  getEffectiveTheme(): 'light' | 'dark';
}

// 实现示例
class AppThemeManager implements ThemeManager {
  currentTheme: 'light' | 'dark' | 'auto' = 'auto';

  constructor() {
    this.watchSystemTheme();
    this.applyTheme();
  }

  watchSystemTheme() {
    // 监听系统暗黑模式变化
    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
    mediaQuery.addEventListener('change', (e) => {
      if (this.currentTheme === 'auto') {
        this.applyTheme();
      }
    });
  }

  setTheme(theme: 'light' | 'dark' | 'auto') {
    this.currentTheme = theme;
    this.applyTheme();
    // 存储用户偏好
    localStorage.setItem('theme-preference', theme);
  }

  getEffectiveTheme(): 'light' | 'dark' {
    if (this.currentTheme === 'auto') {
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    }
    return this.currentTheme;
  }

  private applyTheme() {
    const effectiveTheme = this.getEffectiveTheme();
    document.documentElement.setAttribute('data-theme', effectiveTheme);

    // 更新状态栏颜色（微信小程序）
    if (typeof wx !== 'undefined') {
      wx.setNavigationBarColor({
        frontColor: effectiveTheme === 'dark' ? '#ffffff' : '#000000',
        backgroundColor: effectiveTheme === 'dark' ? '#1C2128' : '#FFFFFF',
      });
    }
  }
}
```

### 2. CSS变量动态切换

```scss
// CSS变量定义
:root {
  // 亮色模式
  --color-primary: #{$primary};
  --color-background: #{$background-primary};
  --color-surface: #{$surface};
  --color-text: #{$gray-900};
  --color-text-secondary: #{$gray-600};
  --shadow-base: #{$shadow-base};
}

[data-theme='dark'] {
  // 暗黑模式
  --color-primary: #{$primary-dark-mode};
  --color-background: #{$background-primary-dark};
  --color-surface: #{$surface-dark};
  --color-text: #{$gray-50-dark};
  --color-text-secondary: #{$gray-400-dark};
  --shadow-base: #{$shadow-base-dark};
}

// 组件使用CSS变量
.card {
  background: var(--color-surface);
  color: var(--color-text);
  box-shadow: var(--shadow-base);
  transition: all 0.3s ease;
}
```

### 3. 暗黑模式设计规范

#### 图片和图标处理

```scss
// 暗黑模式下图片处理
[data-theme='dark'] {
  .product-image {
    // 稍微降低亮度，避免过于刺眼
    filter: brightness(0.9) contrast(1.1);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .icon {
    // 图标颜色自动适配
    filter: invert(1);

    &.color-icon {
      // 彩色图标保持原色
      filter: none;
    }
  }

  .logo {
    // Logo在暗黑模式下使用白色版本
    content: url('logo-white.svg');
  }
}
```

---

## 📐 响应式设计规范

### 1. 断点设计

```scss
// 移动端断点
$mobile-small: 375px; // iPhone SE
$mobile-large: 414px; // iPhone Plus

// 平板断点
$tablet-small: 768px; // iPad 竖屏
$tablet-large: 1024px; // iPad 横屏

// 桌面端断点
$desktop: 1280px; // 商户端后台
```

### 2. 组件自适应规则

```scss
// 容器宽度
.container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 $spacing-4;

  @media (min-width: $tablet-small) {
    padding: 0 $spacing-6;
  }

  @media (min-width: $desktop) {
    padding: 0 $spacing-8;
  }
}

// 网格系统
.grid {
  display: grid;
  gap: $spacing-4;

  // 移动端单列
  grid-template-columns: 1fr;

  // 平板端双列
  @media (min-width: $tablet-small) {
    grid-template-columns: repeat(2, 1fr);
    gap: $spacing-6;
  }

  // 桌面端三列
  @media (min-width: $desktop) {
    grid-template-columns: repeat(3, 1fr);
    gap: $spacing-8;
  }
}
```

### 3. 字体自适应

```scss
// 响应式字体大小
.responsive-text {
  font-size: clamp(14px, 4vw, 18px);
  line-height: 1.4;

  @media (min-width: $tablet-small) {
    font-size: clamp(16px, 3vw, 20px);
  }
}
```

---

## ⚡ 性能优化策略

### 1. 图片优化

- **格式选择**：优先使用 WebP 格式，fallback 为 JPEG
- **尺寸适配**：提供多尺寸图片，根据设备选择合适尺寸
- **懒加载**：首屏外图片延迟加载，提升首屏性能
- **压缩质量**：商品图片85%质量，背景图片75%质量

### 2. 组件优化

```vue
<!-- 懒加载组件 -->
<template>
  <div class="lazy-component">
    <div v-if="isVisible" class="content">
      <!-- 组件内容 -->
    </div>
    <div v-else class="skeleton">
      <!-- 骨架屏 -->
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue';
import { useIntersectionObserver } from '@/composables/useIntersectionObserver';

const isVisible = ref(false);
const target = ref<HTMLElement>();

useIntersectionObserver(target, (entries) => {
  if (entries[0].isIntersecting) {
    isVisible.value = true;
  }
});
</script>
```

### 3. 数据加载优化

- **分页加载**：列表数据分页加载，每页20条
- **预加载**：预测用户行为，提前加载可能需要的数据
- **缓存策略**：静态数据缓存30分钟，动态数据缓存5分钟
- **离线支持**：关键功能支持离线访问

### 4. 网络优化

- **CDN加速**：静态资源使用CDN加速
- **HTTP/2**：启用HTTP/2多路复用
- **Gzip压缩**：文本资源Gzip压缩，压缩率80%+
- **DNS预解析**：关键域名DNS预解析

---

## 🧪 可用性测试规范

### 1. 测试场景设计

#### 场景1：首次使用预订

- **任务**：新用户首次使用应用预订KTV包间
- **成功标准**：3分钟内完成预订，无需帮助
- **观察重点**：导航理解、信息查找、操作流程

#### 场景2：扫码点单

- **任务**：在包间内扫码点单，选择商品并支付
- **成功标准**：2分钟内完成点单，操作顺畅
- **观察重点**：扫码体验、商品选择、支付流程

#### 场景3：商户订单处理

- **任务**：商户接收并处理点单订单
- **成功标准**：1分钟内完成接单和分配
- **观察重点**：订单识别、操作效率、错误处理

### 2. 测试指标

#### 定量指标

- **任务完成率**：目标 ≥ 95%
- **任务完成时间**：比基准版本减少30%
- **错误率**：目标 ≤ 5%
- **用户满意度**：目标 ≥ 4.5分（5分制）

#### 定性指标

- **界面直观性**：用户能否快速理解界面结构
- **操作便捷性**：操作是否符合用户习惯
- **信息清晰度**：关键信息是否突出明确
- **错误处理**：错误提示是否友好有效

### 3. 测试方法

- **A/B测试**：新旧版本对比测试
- **可用性测试**：用户观察测试
- **专家评审**：设计专家启发式评估
- **用户访谈**：深度了解用户需求和痛点

---

## 📋 实施计划

### 阶段一：设计体系建立（2周）

#### Week 1：设计规范制定

- [ ] 完善颜色系统和字体规范
- [ ] 建立组件设计规范
- [ ] 制定交互模式规范
- [ ] 输出设计系统文档

#### Week 2：组件库开发

- [ ] 开发基础组件（按钮、输入框、卡片等）
- [ ] 开发业务组件（包间卡片、商品卡片等）
- [ ] 组件文档和使用示例
- [ ] 组件库测试和优化

### 阶段二：核心功能重构（3周）

#### Week 3：用户端首页和店铺页

- [ ] 首页布局和交互重构
- [ ] 店铺详情页重构
- [ ] 筛选和搜索功能优化
- [ ] 视频播放体验优化

#### Week 4：预订和点单流程

- [ ] 预订流程界面重构
- [ ] 扫码点单界面重构
- [ ] 购物车和结算页优化
- [ ] 支付流程优化

#### Week 5：订单状态和用户中心

- [ ] 订单状态页重构
- [ ] 用户中心界面优化
- [ ] 积分系统界面优化
- [ ] 个人设置页面优化

### 阶段三：商户端和优化（2周）

#### Week 6：商户端重构

- [ ] 商户仪表盘重构
- [ ] 订单管理界面优化
- [ ] 包间管理界面优化
- [ ] 数据统计页面优化

#### Week 7：整体优化和测试

- [ ] 性能优化和测试
- [ ] 跨端兼容性测试
- [ ] 可用性测试
- [ ] Bug修复和优化

### 关键里程碑

- **Week 2**：设计系统和组件库完成
- **Week 4**：核心用户流程重构完成
- **Week 6**：商户端重构完成
- **Week 7**：整体测试和优化完成

---

## ✅ 验收标准

### 1. 设计质量标准

#### 视觉设计

- [ ] 设计稿100%还原，误差不超过2px
- [ ] 颜色使用严格遵循设计系统
- [ ] 字体大小和行高符合规范
- [ ] 间距和圆角严格按照设计标准

#### 交互体验

- [ ] 所有交互动画流畅，帧率 ≥ 60fps
- [ ] 操作反馈及时，响应时间 ≤ 100ms
- [ ] 页面转场动画自然，无卡顿现象
- [ ] 手势操作符合平台规范

### 2. 性能标准

#### 加载性能

- [ ] 首屏加载时间 ≤ 2秒
- [ ] 页面切换时间 ≤ 300ms
- [ ] 图片加载采用懒加载，性能提升30%+
- [ ] 包大小控制，比原版本减少20%+

#### 运行性能

- [ ] 内存使用稳定，无内存泄漏
- [ ] CPU使用率正常，无异常占用
- [ ] 电池消耗合理，续航无明显影响
- [ ] 网络请求优化，减少50%+请求数量

### 3. 兼容性标准

#### 设备兼容

- [ ] iOS 12+ 和 Android 8+ 设备完全兼容
- [ ] 主流机型（iPhone 8+、主流Android机型）测试通过
- [ ] 不同屏幕尺寸适配良好
- [ ] 横竖屏切换无异常

#### 微信小程序兼容

- [ ] 微信版本7.0+完全支持
- [ ] 小程序基础库2.10+兼容
- [ ] 各项小程序接口调用正常
- [ ] 分享、支付等功能正常

### 4. 可用性标准

#### 易用性

- [ ] 新用户无需教程即可完成核心任务
- [ ] 常用功能3步内可到达
- [ ] 错误状态有明确提示和解决方案
- [ ] 适配无障碍功能，支持VoiceOver

#### 用户体验

- [ ] 用户满意度调研 ≥ 4.5分
- [ ] 任务完成率 ≥ 95%
- [ ] 用户流失率下降20%+
- [ ] 客户投诉率下降50%+

### 5. 业务指标

#### 转化率提升

- [ ] 预订转化率提升25%+
- [ ] 点单转化率提升30%+
- [ ] 用户复购率提升20%+
- [ ] 平均订单金额提升15%+

#### 运营效率

- [ ] 商户处理订单效率提升40%+
- [ ] 客服咨询量减少30%+
- [ ] 用户投诉处理效率提升50%+
- [ ] 系统维护成本降低25%+

---

## 📝 风险控制

### 1. 技术风险

#### 兼容性风险

- **风险描述**：新设计在老设备上表现不佳
- **预防措施**：
  - 建立完善的设备测试矩阵
  - 使用渐进增强的设计理念
  - 提供降级方案

#### 性能风险

- **风险描述**：复杂动画影响性能
- **预防措施**：
  - 建立性能基准测试
  - 使用CSS动画替代JS动画
  - 实现动画降级机制

### 2. 用户体验风险

#### 学习成本风险

- **风险描述**：新界面增加用户学习成本
- **预防措施**：
  - 保持核心操作流程不变
  - 提供新手引导和帮助
  - 分步骤发布新功能

#### 功能缺失风险

- **风险描述**：重构过程中遗漏关键功能
- **预防措施**：
  - 完整的功能清单检查
  - 用户测试验证功能完整性
  - 建立回滚机制

### 3. 进度风险

#### 开发延期风险

- **风险描述**：设计复杂导致开发延期
- **预防措施**：
  - 合理评估设计复杂度
  - 预留20%缓冲时间
  - 建立里程碑检查机制

#### 资源不足风险

- **风险描述**：设计或开发资源不足
- **预防措施**：
  - 提前确认资源可用性
  - 建立外部资源备选方案
  - 优先级管理和功能裁剪

---

## 📊 效果评估

### 1. 评估指标体系

#### 用户行为指标

```
页面访问深度 = 平均页面访问数 / 用户会话
目标：提升30%

功能使用率 = 功能使用用户数 / 总活跃用户数
目标：核心功能使用率 > 80%

用户留存率 = 7日后仍活跃用户数 / 新增用户数
目标：7日留存率 > 30%
```

#### 业务转化指标

```
预订转化率 = 完成预订用户数 / 浏览店铺用户数
目标：提升25%

点单转化率 = 完成点单用户数 / 扫码用户数
目标：提升30%

复购率 = 30日内重复消费用户数 / 总消费用户数
目标：提升20%
```

#### 用户满意度指标

```
界面满意度 = 界面评分 ≥ 4分用户占比
目标：> 85%

操作便捷度 = 操作评分 ≥ 4分用户占比
目标：> 90%

整体推荐度 = NPS推荐值
目标：> 50
```

### 2. 数据收集方案

#### 埋点统计

- **页面浏览**：页面PV、UV、停留时间、跳出率
- **功能使用**：按钮点击、功能使用路径、错误操作
- **性能数据**：页面加载时间、接口响应时间、错误率

#### 用户反馈

- **应用内评分**：5星评分系统，收集用户评价
- **用户访谈**：定期邀请用户参与深度访谈
- **问卷调研**：发放专项问卷，收集具体意见

#### A/B测试

- **对照组**：保留部分用户使用旧版本
- **实验组**：新用户和主动升级用户使用新版本
- **对比维度**：转化率、满意度、使用时长等

### 3. 持续优化机制

#### 月度评估

- **数据分析**：每月分析用户行为和业务数据
- **问题识别**：识别用户使用中的痛点和障碍
- **优化方案**：制定下月优化计划

#### 季度迭代

- **功能升级**：基于用户反馈增加新功能
- **设计优化**：持续优化界面设计和交互体验
- **性能提升**：定期进行性能优化和技术升级

---

## 📞 联系方式

### 项目团队

- **UI/UX负责人**：[姓名] - [邮箱] - [电话]
- **前端开发负责人**：[姓名] - [邮箱] - [电话]
- **产品经理**：[姓名] - [邮箱] - [电话]
- **项目经理**：[姓名] - [邮箱] - [电话]

### 沟通机制

- **日常沟通**：微信群/钉钉群即时沟通
- **周例会**：每周五下午2:00-3:00项目进度会议
- **设计评审**：每个阶段完成后组织设计评审会
- **紧急联系**：重大问题或紧急情况24小时内响应

---

## 📚 附录

### 1. 设计资源

- **设计文件**：存放在Figma/Sketch云端，团队共享访问
- **组件库**：基于Vue3+TypeScript开发，支持主题定制
- **图标库**：使用Iconify图标库，支持SVG和字体格式
- **插图库**：自定义插图和动画资源

### 2. 开发规范

- **命名规范**：BEM CSS命名规范
- **代码规范**：ESLint + Prettier代码格式化
- **组件规范**：Vue3 Composition API + TypeScript
- **样式规范**：SCSS + PostCSS自动化处理

### 3. 参考资料

- **设计灵感**：Dribbble、Behance优秀案例
- **竞品分析**：美团、大众点评、小红书等应用
- **设计规范**：Material Design、Human Interface Guidelines
- **可用性研究**：Nielsen十大可用性原则

---

**文档版本**：v1.0  
**最后更新**：2025年9月19日  
**状态**：待评审审批  
**下次更新**：项目启动后每周更新

> **注意**：本文档是UI重构的指导性文件，具体实施过程中如遇到技术限制或业务调整，可在保持核心设计理念不变的前提下进行适当调整。
