/**
 * 主题样式定义
 * 这里定义了应用的主题变量和业务相关样式
 */

/* ==================== 主题色彩 ==================== */

/* 品牌色 */
:root {
  /* 主色调 - 钱柜品牌紫 */
  --theme-primary: #667eea;
  --theme-primary-light: #8a9af0;
  --theme-primary-dark: #4c63d2;
  --theme-primary-gradient: linear-gradient(135deg, #667eea, #764ba2);
  
  /* 辅助色 */
  --theme-secondary: #f093fb;
  --theme-accent: #f5576c;
  --theme-accent-light: #ff7b9a;
  
  /* 金色 - VIP相关 */
  --theme-gold: #ffd700;
  --theme-gold-light: #ffed4e;
  --theme-gold-dark: #e6c200;
  
  /* 状态色 */
  --theme-success: #52c41a;
  --theme-success-light: #73d13d;
  --theme-success-dark: #389e0d;
  
  --theme-warning: #faad14;
  --theme-warning-light: #ffc53d;
  --theme-warning-dark: #d48806;
  
  --theme-error: #ff4d4f;
  --theme-error-light: #ff7875;
  --theme-error-dark: #cf1322;
  
  --theme-info: #1890ff;
  --theme-info-light: #40a9ff;
  --theme-info-dark: #096dd9;
  
  /* 中性色系 */
  --theme-text-primary: #000000;
  --theme-text-regular: #333333;
  --theme-text-secondary: #666666;
  --theme-text-placeholder: #999999;
  --theme-text-disabled: #cccccc;
  --theme-text-white: #ffffff;
  
  /* 背景色系 */
  --theme-bg-primary: #ffffff;
  --theme-bg-secondary: #fafafa;
  --theme-bg-tertiary: #f5f7fa;
  --theme-bg-dark: #1a1a1a;
  --theme-bg-mask: rgba(0, 0, 0, 0.6);
  --theme-bg-mask-light: rgba(0, 0, 0, 0.3);
  
  /* 边框色 */
  --theme-border-light: #f0f0f0;
  --theme-border-base: #e5e5e5;
  --theme-border-dark: #d9d9d9;
  --theme-border-darker: #bfbfbf;
  
  /* 分割线 */
  --theme-divider: #f0f0f0;
  --theme-divider-dark: #e8e8e8;
}

/* ==================== 业务色彩 ==================== */

:root {
  /* 用户等级色彩 */
  --level-bronze: #cd7f32;
  --level-silver: #c0c0c0;
  --level-gold: #ffd700;
  --level-platinum: #e5e4e2;
  --level-diamond: #b9f2ff;
  --level-crown: #ff6b6b;
  
  /* KTV业务相关 */
  --ktv-room-available: #52c41a;
  --ktv-room-occupied: #ff4d4f;
  --ktv-room-cleaning: #faad14;
  --ktv-room-maintenance: #999999;
  
  /* 订单状态色彩 */
  --order-pending: #faad14;
  --order-confirmed: #1890ff;
  --order-preparing: #722ed1;
  --order-delivering: #13c2c2;
  --order-completed: #52c41a;
  --order-cancelled: #ff4d4f;
  --order-refunded: #f759ab;
  
  /* 支付相关 */
  --payment-wechat: #07c160;
  --payment-alipay: #1678ff;
  --payment-cash: #fa541c;
  --payment-card: #531dab;
  --payment-points: #ffd700;
}

/* ==================== 尺寸规范 ==================== */

:root {
  /* 字体大小 */
  --font-size-xs: 20rpx;      /* 10px */
  --font-size-sm: 24rpx;      /* 12px */
  --font-size-base: 28rpx;    /* 14px */
  --font-size-md: 32rpx;      /* 16px */
  --font-size-lg: 36rpx;      /* 18px */
  --font-size-xl: 40rpx;      /* 20px */
  --font-size-xxl: 48rpx;     /* 24px */
  --font-size-title: 56rpx;   /* 28px */
  --font-size-hero: 64rpx;    /* 32px */
  
  /* 行高 */
  --line-height-tight: 1.2;
  --line-height-base: 1.4;
  --line-height-relaxed: 1.6;
  --line-height-loose: 2;
  
  /* 间距 */
  --spacing-xs: 8rpx;         /* 4px */
  --spacing-sm: 16rpx;        /* 8px */
  --spacing-md: 24rpx;        /* 12px */
  --spacing-base: 32rpx;      /* 16px */
  --spacing-lg: 48rpx;        /* 24px */
  --spacing-xl: 64rpx;        /* 32px */
  --spacing-xxl: 96rpx;       /* 48px */
  
  /* 圆角 */
  --radius-xs: 4rpx;          /* 2px */
  --radius-sm: 8rpx;          /* 4px */
  --radius-base: 12rpx;       /* 6px */
  --radius-md: 16rpx;         /* 8px */
  --radius-lg: 24rpx;         /* 12px */
  --radius-xl: 32rpx;         /* 16px */
  --radius-full: 9999rpx;     /* 圆形 */
  
  /* 阴影 */
  --shadow-xs: 0 1rpx 2rpx rgba(0, 0, 0, 0.05);
  --shadow-sm: 0 2rpx 8rpx rgba(0, 0, 0, 0.08);
  --shadow-base: 0 4rpx 16rpx rgba(0, 0, 0, 0.12);
  --shadow-lg: 0 8rpx 32rpx rgba(0, 0, 0, 0.16);
  --shadow-xl: 0 16rpx 64rpx rgba(0, 0, 0, 0.20);
  
  /* 层级 */
  --z-dropdown: 1000;
  --z-sticky: 1020;
  --z-fixed: 1030;
  --z-modal-backdrop: 1040;
  --z-modal: 1050;
  --z-popover: 1060;
  --z-tooltip: 1070;
  --z-toast: 1080;
}

/* ==================== 动画规范 ==================== */

:root {
  /* 过渡时间 */
  --duration-fast: 0.15s;
  --duration-base: 0.3s;
  --duration-slow: 0.5s;
  
  /* 缓动函数 */
  --ease-out: cubic-bezier(0.215, 0.61, 0.355, 1);
  --ease-in: cubic-bezier(0.55, 0.055, 0.675, 0.19);
  --ease-in-out: cubic-bezier(0.645, 0.045, 0.355, 1);
  --ease-out-back: cubic-bezier(0.175, 0.885, 0.32, 1.275);
  --ease-in-back: cubic-bezier(0.6, -0.28, 0.735, 0.045);
}

/* ==================== 响应式断点 ==================== */

$breakpoints: (
  xs: 320px,
  sm: 576px,
  md: 768px,
  lg: 992px,
  xl: 1200px,
  xxl: 1600px
);

/* 响应式混入 */
@mixin respond-to($breakpoint) {
  @if map-has-key($breakpoints, $breakpoint) {
    @media (min-width: map-get($breakpoints, $breakpoint)) {
      @content;
    }
  } @else {
    @warn "Unknown breakpoint: #{$breakpoint}";
  }
}

/* ==================== 业务组件样式 ==================== */

/* 卡片样式 */
.theme-card {
  background: var(--theme-bg-primary);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  padding: var(--spacing-base);
  margin-bottom: var(--spacing-base);
  
  &.elevated {
    box-shadow: var(--shadow-base);
  }
  
  &.bordered {
    border: 1rpx solid var(--theme-border-light);
    box-shadow: none;
  }
}

/* 按钮主题 */
.theme-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--spacing-md) var(--spacing-base);
  border-radius: var(--radius-md);
  font-size: var(--font-size-base);
  font-weight: 500;
  line-height: 1;
  transition: all var(--duration-base) var(--ease-out);
  border: none;
  cursor: pointer;
  
  &.primary {
    background: var(--theme-primary);
    color: var(--theme-text-white);
    
    &:hover {
      background: var(--theme-primary-dark);
    }
    
    &.gradient {
      background: var(--theme-primary-gradient);
    }
  }
  
  &.secondary {
    background: var(--theme-bg-secondary);
    color: var(--theme-text-regular);
    border: 1rpx solid var(--theme-border-base);
    
    &:hover {
      border-color: var(--theme-primary);
      color: var(--theme-primary);
    }
  }
  
  &.ghost {
    background: transparent;
    color: var(--theme-primary);
    border: 1rpx solid var(--theme-primary);
    
    &:hover {
      background: var(--theme-primary);
      color: var(--theme-text-white);
    }
  }
  
  &.large {
    padding: var(--spacing-base) var(--spacing-lg);
    font-size: var(--font-size-md);
  }
  
  &.small {
    padding: var(--spacing-sm) var(--spacing-md);
    font-size: var(--font-size-sm);
  }
  
  &.disabled {
    opacity: 0.6;
    cursor: not-allowed;
    
    &:hover {
      transform: none;
    }
  }
}

/* 标签主题 */
.theme-tag {
  display: inline-flex;
  align-items: center;
  padding: var(--spacing-xs) var(--spacing-md);
  border-radius: var(--radius-full);
  font-size: var(--font-size-sm);
  font-weight: 500;
  line-height: 1;
  
  &.success {
    background: rgba(82, 196, 26, 0.1);
    color: var(--theme-success);
  }
  
  &.warning {
    background: rgba(250, 173, 20, 0.1);
    color: var(--theme-warning);
  }
  
  &.error {
    background: rgba(255, 77, 79, 0.1);
    color: var(--theme-error);
  }
  
  &.info {
    background: rgba(24, 144, 255, 0.1);
    color: var(--theme-info);
  }
  
  &.primary {
    background: rgba(102, 126, 234, 0.1);
    color: var(--theme-primary);
  }
  
  &.gold {
    background: rgba(255, 215, 0, 0.1);
    color: var(--theme-gold-dark);
  }
}

/* 头像样式 */
.theme-avatar {
  display: inline-block;
  overflow: hidden;
  border-radius: var(--radius-full);
  background: var(--theme-bg-secondary);
  
  &.small {
    width: 64rpx;
    height: 64rpx;
  }
  
  &.medium {
    width: 96rpx;
    height: 96rpx;
  }
  
  &.large {
    width: 128rpx;
    height: 128rpx;
  }
  
  &.bordered {
    border: 2rpx solid var(--theme-border-light);
  }
}

/* 分割线 */
.theme-divider {
  height: 1rpx;
  background: var(--theme-divider);
  margin: var(--spacing-base) 0;
  
  &.vertical {
    width: 1rpx;
    height: auto;
    margin: 0 var(--spacing-base);
  }
  
  &.thick {
    height: 16rpx;
    background: var(--theme-bg-tertiary);
  }
}

/* 等级标识 */
.level-badge {
  display: inline-flex;
  align-items: center;
  padding: var(--spacing-xs) var(--spacing-md);
  border-radius: var(--radius-sm);
  font-size: var(--font-size-xs);
  font-weight: 600;
  color: var(--theme-text-white);
  
  &.bronze {
    background: var(--level-bronze);
  }
  
  &.silver {
    background: var(--level-silver);
    color: var(--theme-text-regular);
  }
  
  &.gold {
    background: var(--level-gold);
    color: var(--theme-text-regular);
  }
  
  &.platinum {
    background: var(--level-platinum);
    color: var(--theme-text-regular);
  }
  
  &.diamond {
    background: var(--level-diamond);
    color: var(--theme-text-regular);
  }
  
  &.crown {
    background: var(--level-crown);
  }
}

/* 房间状态指示器 */
.room-status {
  display: inline-flex;
  align-items: center;
  padding: var(--spacing-xs) var(--spacing-md);
  border-radius: var(--radius-sm);
  font-size: var(--font-size-sm);
  font-weight: 500;
  
  &::before {
    content: '';
    width: 16rpx;
    height: 16rpx;
    border-radius: var(--radius-full);
    margin-right: var(--spacing-xs);
  }
  
  &.available {
    background: rgba(82, 196, 26, 0.1);
    color: var(--ktv-room-available);
    
    &::before {
      background: var(--ktv-room-available);
    }
  }
  
  &.occupied {
    background: rgba(255, 77, 79, 0.1);
    color: var(--ktv-room-occupied);
    
    &::before {
      background: var(--ktv-room-occupied);
    }
  }
  
  &.cleaning {
    background: rgba(250, 173, 20, 0.1);
    color: var(--ktv-room-cleaning);
    
    &::before {
      background: var(--ktv-room-cleaning);
    }
  }
  
  &.maintenance {
    background: rgba(153, 153, 153, 0.1);
    color: var(--ktv-room-maintenance);
    
    &::before {
      background: var(--ktv-room-maintenance);
    }
  }
}

/* 支付方式图标 */
.payment-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 48rpx;
  height: 48rpx;
  border-radius: var(--radius-sm);
  font-size: var(--font-size-lg);
  color: var(--theme-text-white);
  
  &.wechat {
    background: var(--payment-wechat);
  }
  
  &.alipay {
    background: var(--payment-alipay);
  }
  
  &.cash {
    background: var(--payment-cash);
  }
  
  &.card {
    background: var(--payment-card);
  }
  
  &.points {
    background: var(--payment-points);
    color: var(--theme-text-regular);
  }
}

/* 加载动画 */
@keyframes spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

@keyframes bounce {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-25%);
  }
}

.animate-spin {
  animation: spin 1s linear infinite;
}

.animate-pulse {
  animation: pulse 2s ease-in-out infinite;
}

.animate-bounce {
  animation: bounce 1s ease-in-out infinite;
}

/* 骨架屏 */
.skeleton {
  background: linear-gradient(90deg, 
    var(--theme-bg-secondary) 25%, 
    var(--theme-border-light) 50%, 
    var(--theme-bg-secondary) 75%
  );
  background-size: 200% 100%;
  animation: loading 1.5s infinite;
  border-radius: var(--radius-sm);
}

@keyframes loading {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

/* 渐变文字 */
.gradient-text {
  background: var(--theme-primary-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-weight: 600;
}

/* 玻璃拟态效果 */
.glass-morphism {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(20rpx);
  border: 1rpx solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 8rpx 32rpx rgba(0, 0, 0, 0.1);
}

/* 新拟态效果 */
.neumorphism {
  background: var(--theme-bg-secondary);
  border-radius: var(--radius-lg);
  box-shadow: 
    8rpx 8rpx 16rpx rgba(0, 0, 0, 0.1),
    -8rpx -8rpx 16rpx rgba(255, 255, 255, 0.9);
}

.neumorphism-inset {
  background: var(--theme-bg-secondary);
  border-radius: var(--radius-lg);
  box-shadow: 
    inset 8rpx 8rpx 16rpx rgba(0, 0, 0, 0.1),
    inset -8rpx -8rpx 16rpx rgba(255, 255, 255, 0.9);
}
